<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Specs &amp; Tests | DocOps Lab</title>
  <meta name="description" content="Specifying and testing DocOps Lab projects">
  
  
  <!-- Social Graph / Open Graph metadata -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Specs &amp; Tests">
  <meta property="og:description" content="Specifying and testing DocOps Lab projects">
  <meta property="og:url" content="https://docopslab.org/docs/testing/">
  <meta property="og:site_name" content="DocOps Lab">
  <meta property="og:logo" content="https://docopslab.org/assets/images/favicons/android-chrome-512x512.png">
  
  <meta property="og:image" content="https://docopslab.org/assets/images/favicons/android-chrome-512x512.png">
  <meta property="og:image:alt" content="DocOps Lab Logo">
  
  
  
  <!-- Twitter Card metadata -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Specs &amp; Tests">
  <meta name="twitter:description" content="Specifying and testing DocOps Lab projects">
  
  <meta name="twitter:image" content="https://docopslab.org/assets/images/favicons/android-chrome-512x512.png">
  <meta name="twitter:image:alt" content="DocOps Lab Logo">
  
  
  <!-- Additional metadata -->
  <meta name="author" content="DocOps Lab">
  
  <link rel="canonical" href="https://docopslab.org/docs/testing/">
  
  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png">
  <link rel="manifest" href="/assets/images/favicons/site.webmanifest">
  <link rel="mask-icon" href="/assets/images/favicon.svg" color="#667eea">
  <link rel="shortcut icon" href="/favicon.ico">
  <meta name="msapplication-TileColor" content="#667eea">
  <meta name="msapplication-config" content="/assets/images/favicons/browserconfig.xml">
  <meta name="theme-color" content="#667eea">
  
  <script>
    (function() {
      var savedTheme = null;
      try { savedTheme = localStorage.getItem('theme'); } catch(e) {}
      
      var theme;
      if (savedTheme) {
        theme = savedTheme;
      } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        theme = 'dark';
      } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
        theme = 'light';
      } else {
        theme = 'dark';
      }
      
      if (theme === 'light') {
        document.write('<style>html,body{background-color:#f7faea!important;color:#1a202c!important;}</style>');
      } else {
        document.write('<style>html,body{background-color:#1a202c!important;color:#e2e8f0!important;}</style>');
      }
      
      window.__initialTheme = theme;
    })();
  </script>
  
  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css">
  
  <!-- Highlight.js CSS - Themes (both loaded, toggled via JS) -->
  <link id="hljs-theme-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" disabled>
  <link id="hljs-theme-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-light.min.css" disabled>

  <!-- Font Awesome for AsciiDoc callouts -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <!-- Conditional MetaBlog Fonts - Only load for metablog pages -->
  
  
  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>---
---<script src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js"></script><script id="search-config" type="application/json">
  {
    "engine": "elasticlunr",
    "version": "0.9.6",
    "options": {"prefix":true,"fuzzy":0.2,"title_boost":3,"bool":"AND","expand":true},
    "debug": false,
    "searchJson": "/search.json"
  }
  </script>

  <script defer src="/assets/js/search.js"></script>  
  <!-- Custom Icons Setup -->
  <script>
      // Wait for both DOM and Lucide to be ready
      function initCustomIcons() {
      if (typeof lucide !== 'undefined') {
          // Custom icons to add to Lucide
          const customIcons = {
        'grid-2x2-radio-button': '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.25\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3\"/><circle cx=\"18\" cy=\"18\" r=\"3.25\"/><circle cx=\"18\" cy=\"18\" r=\"1.25\" fill=\"currentColor\" stroke=\"none\"/></svg>',

        'grid-2x2-pathslash': '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.25\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3\"/><circle cx=\"15.1\" cy=\"20.6\" r=\"1.15\" fill=\"currentColor\" stroke=\"none\"/><path d=\"M16.9 20.8L22 15.6\"/></svg>',

        'grid-2x2-prompt': '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.25\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3\"/><path d=\"m14.5 16.5 3 3-3 3\"/><path d=\"M19.5 22h2.5\"/></svg>',

        'grid-2x2-version': '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.25\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3\"/><path d=\"m14.5 16.5 4 4m0-4-4 4\"/><circle cx=\"20.5\" cy=\"20.5\" r=\"1.1\" fill=\"currentColor\" stroke=\"none\"/><path d=\"M22 16.5l-1.5 2.5v2.5\"/></svg>',

        // optional alternate for pathslash using a folder-tree motif
        'grid-2x2-pathtree': '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.25\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3\"/><path d=\"M15 16v6\"/><path d=\"M15 18h4\"/><path d=\"M19 20h3\"/><circle cx=\"15\" cy=\"16\" r=\"1.1\" fill=\"currentColor\" stroke=\"none\"/><circle cx=\"19\" cy=\"18\" r=\"1.1\" fill=\"currentColor\" stroke=\"none\"/><circle cx=\"22\" cy=\"20\" r=\"1.1\" fill=\"currentColor\" stroke=\"none\"/></svg>'


          };

          // First, replace custom icon elements BEFORE calling lucide.createIcons()
          for (const [iconName, svgContent] of Object.entries(customIcons)) {
        const elements = document.querySelectorAll(`[data-lucide="${iconName}"]`);
        
        elements.forEach(element => {
            // Replace the element with our custom SVG
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = svgContent;
            const svgElement = tempDiv.firstChild;
            
            // Copy classes from the original element
            if (element.className) {
        svgElement.className = element.className;
            }
            
            // Set attributes to match original Lucide styling
            svgElement.setAttribute('width', '2.5rem');
            svgElement.setAttribute('height', '2.5rem');
            svgElement.style.width = '2.5rem';
            svgElement.style.height = '2.5rem';
            svgElement.setAttribute('stroke', 'currentColor');
            svgElement.setAttribute('stroke-width', '1.5');
            svgElement.setAttribute('fill', 'none');
            svgElement.setAttribute('stroke-linecap', 'round');
            svgElement.setAttribute('stroke-linejoin', 'round');
            // Force color inline
            svgElement.style.color = 'var(--primary-color)';
            svgElement.style.stroke = 'var(--primary-color)';
            svgElement.setAttribute('stroke', 'var(--primary-color)');
            
            // Replace the element
            element.parentNode.replaceChild(svgElement, element);
        });
          }
          
          // Now create icons for all remaining Lucide icons (but not our custom ones)
          lucide.createIcons();
          return true;
      }
      return false;
      }

      // Try to initialize when DOM is ready
      document.addEventListener('DOMContentLoaded', function() {
      if (!initCustomIcons()) {
          // If Lucide isn't ready yet, wait a bit and try again
          setTimeout(initCustomIcons, 100);
      }
      });

      // Also try when window loads (fallback)
      window.addEventListener('load', function() {
      setTimeout(initCustomIcons, 200);
      });
  </script>
  
  <script>
    window.themeConfig = {
      "darkMode": true,
      "parallax": true,
      "scrollspy": true
    };

    (function() {
      if (!window.themeConfig.darkMode) return;
      
      var theme = window.__initialTheme;
      var html = document.documentElement;
      
      if (theme === 'dark') {
        html.classList.add('dark-mode');
        html.classList.remove('force-light-mode');
      } else {
        html.classList.add('force-light-mode');
        html.classList.remove('dark-mode');
      }
      
      var hljsLight = document.getElementById('hljs-theme-light');
      var hljsDark = document.getElementById('hljs-theme-dark');
      if (hljsLight && hljsDark) {
        if (theme === 'dark') {
          hljsDark.disabled = false;
          hljsLight.disabled = true;
        } else {
          hljsDark.disabled = true;
          hljsLight.disabled = false;
        }
      }
    })();
  </script>
  
  
</head>
<body class="layout-document  has-sticky-banner">
  <script>
    (function() {
      var theme = window.__initialTheme;
      if (theme === 'dark') {
        document.body.classList.add('dark-mode');
      } else if (theme === 'light') {
        document.body.classList.add('force-light-mode');
      }
    })();
  </script>
  
  <!-- Top Navigation Banner -->
  <!-- Top Banner with Sticky Navigation -->



<header class="top-banner sticky-banner hide-on-scroll" 
        id="top-banner"
        data-hide-threshold="200"
        >
  
  <div class="banner-container">
    <div class="banner-content">
      
      <!-- Brand Section -->
      <div class="banner-brand">
        <a href="/" class="banner-brand-link">
          <span class="banner-brand-name">DocOps Lab</span>
        </a>
      </div>
      
      <!-- Navigation Links -->
      <div class="banner-nav">
        <!-- Reusable Navigation Component -->


<nav class="nav-component nav-banner">
  
  
  <ul class="nav-links">
    
    <li>
      <a href="/projects/" class="nav-link" title="Open source tools and libraries">
        
        <i data-lucide="folder-code" class="nav-icon"></i>
        
        <span class="nav-text">Projects</span>
      </a>
    </li>
    
    <li>
      <a href="/blog/" class="nav-link" title="Latest insights and tutorials">
        
        <i data-lucide="rss" class="nav-icon"></i>
        
        <span class="nav-text">Blog</span>
      </a>
    </li>
    
    <li>
      <a href="/docs/" class="nav-link" title="Documentation and guides">
        
        <i data-lucide="book-open" class="nav-icon"></i>
        
        <span class="nav-text">Docs</span>
      </a>
    </li>
    
    <li>
      <a href="/docs/contributing/" class="nav-link" title="How to get involved">
        
        <i data-lucide="heart-handshake" class="nav-icon"></i>
        
        <span class="nav-text">Contributing</span>
      </a>
    </li>
    
    
    
    
    <li>
      <a href="https://github.com/DocOps" class="nav-link nav-external" 
         target="_blank"
         title="Source code and repositories">
        
        <i data-lucide="github" class="nav-icon"></i>
        
        <span class="nav-text">GitHub</span>
      </a>
    </li>
    
    <li>
      <a href="https://www.writethedocs.org/slack/" class="nav-link nav-external" 
         target="_blank"
         title="Join our Write the Docs and find the #DocOps channel">
        
        <i data-lucide="users" class="nav-icon"></i>
        
        <span class="nav-text">Community</span>
      </a>
    </li>
    
    
  </ul>
</nav>

      </div>
      
      <!-- Mobile Menu Toggle -->
      <button class="banner-toggle" id="banner-toggle" aria-label="Toggle navigation menu">
        <i data-lucide="menu" class="banner-toggle-icon"></i>
      </button>
      <div class="search-widget">
        <label for="search-input" class="sr-only">Search</label>
        <input id="search-input" type="search" autocomplete="off" placeholder="Searchâ€¦">
        <ol id="search-results" aria-live="polite"></ol>
      </div></div>
    
    <!-- Mobile Navigation -->
    <div class="banner-mobile-nav" id="banner-mobile-nav">
      <!-- Reusable Navigation Component -->


<nav class="nav-component nav-mobile">
  
  
  <ul class="nav-links">
    
    <li>
      <a href="/projects/" class="nav-link" title="Open source tools and libraries">
        
        <i data-lucide="folder-code" class="nav-icon"></i>
        
        <span class="nav-text">Projects</span>
      </a>
    </li>
    
    <li>
      <a href="/blog/" class="nav-link" title="Latest insights and tutorials">
        
        <i data-lucide="rss" class="nav-icon"></i>
        
        <span class="nav-text">Blog</span>
      </a>
    </li>
    
    <li>
      <a href="/docs/" class="nav-link" title="Documentation and guides">
        
        <i data-lucide="book-open" class="nav-icon"></i>
        
        <span class="nav-text">Docs</span>
      </a>
    </li>
    
    <li>
      <a href="/docs/contributing/" class="nav-link" title="How to get involved">
        
        <i data-lucide="heart-handshake" class="nav-icon"></i>
        
        <span class="nav-text">Contributing</span>
      </a>
    </li>
    
    
    
    
    <li>
      <a href="https://github.com/DocOps" class="nav-link nav-external" 
         target="_blank"
         title="Source code and repositories">
        
        <i data-lucide="github" class="nav-icon"></i>
        
        <span class="nav-text">GitHub</span>
      </a>
    </li>
    
    <li>
      <a href="https://www.writethedocs.org/slack/" class="nav-link nav-external" 
         target="_blank"
         title="Join our Write the Docs and find the #DocOps channel">
        
        <i data-lucide="users" class="nav-icon"></i>
        
        <span class="nav-text">Community</span>
      </a>
    </li>
    
    
  </ul>
</nav>

    </div>
    
  </div>
</header>

  
  <div class="document-container document">
  <nav class="document-nav">
    
    <div class="toc-container">
      <h4>Contents</h4>
      <h5>Specs &amp; Tests</h5>
      <div id="toc" class="toc">
        <!-- TOC will be generated by JavaScript -->
      </div>
    </div>
    
  </nav>

  <main class="document-content">
    

<nav class="breadcrumbs mb-6">
  <a href="/" class="breadcrumb-link">Home</a>
  <span class="breadcrumb-separator">/</span>
  
  
  <a href="/docs/" class="breadcrumb-link">Documentation</a>
  
    <span class="breadcrumb-separator">/</span>
    <span class="breadcrumb-current">Specs &amp; Tests</span>
  
  
</nav>

    <article>
    
    <header class="document-header">
      <h1>Specs &amp; Tests</h1>
      
      <p class="document-description">Specifying and testing DocOps Lab projects</p>
      
    </header>
    

    <div class="document-body">
      

      

      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Most DocOps Lab projects include a <code>specs/</code> directory in the base.
This path is for all &#8220;definitional&#8221; code and content, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>YAML- or JSON-formatted schema or definition documents</p>
</li>
<li>
<p>&#8220;natural language&#8221; requirement/specification documents</p>
</li>
<li>
<p>test scripts in RSpec or other formats</p>
</li>
<li>
<p>test data files</p>
</li>
<li>
<p>test configurations</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The typical structure of this path is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>specs/
  docs/             # natural language PRDs
    *.adoc
  data/             # defs, schemas, test data
    *.yml,*.yaml
  tests/
    *.rb, *.sh      # test scripts
    rspec/          # RSpec test files
      spec_helper.rb
      *_spec.rb
    results/        # Test output logs</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="specifications-requirements-and-definitions">Specifications, Requirements, and Definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>DocOps Lab project development is &#8220;docs-driven&#8221;, meaning we write up our code requirements and specifications in natural language documents before we start coding.
These files tend to take the following form:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>README.adoc</code></dt>
<dd>
<p>Especially during early development, fairly detailed product documentation is stored here.</p>
</dd>
<dt class="hdlist1"><code>specs/docs/*.adoc</code></dt>
<dd>
<p>Natural language product requirement documents (PRD) specifying dependencies, features, behaviors, and inter-component contracts and interfaces.</p>
</dd>
<dt class="hdlist1"><code>specs/data/*.yml</code></dt>
<dd>
<p>YAML-formatted definition files that designate actual attributes and content of the app, typically including <code>config-def.yml</code> for configuration properties defaults and docs.</p>
</dd>
<dt class="hdlist1"><code>specs/data/*-schema.yaml</code></dt>
<dd>
<p>SGYML-formatted schema files that define the structure and constraints user-editable YAML files, such as configuration files.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-infrastructure-standards">Testing Infrastructure Standards</h2>
<div class="sectionbody">
<div class="paragraph">
<p>DocOps Lab projects follow consistent testing patterns to ensure reliability and maintainability across the ecosystem.
These standards cover test organization, configuration files, and data management used by testing frameworks.</p>
</div>
<div class="sect2">
<h3 id="rspec-configuration">RSpec Configuration</h3>
<div class="paragraph">
<p>All Ruby-based projects should include:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>.rspec</code></dt>
<dd>
<p>Configuration file specifying RSpec options and test file patterns.
Standard configuration:</p>
<div class="literalblock">
<div class="content">
<pre>--format documentation
--color
--pattern 'specs/tests/rspec/**/*_spec.rb'</pre>
</div>
</div>
</dd>
<dt class="hdlist1"><code>specs/tests/rspec/spec_helper.rb</code></dt>
<dd>
<p>Shared configuration, helper methods, and sample data for tests.
Should include:</p>
<div class="ulist">
<ul>
<li>
<p>Bundler setup and project requires</p>
</li>
<li>
<p>RSpec configuration (monkey patching disabled, expect syntax)</p>
</li>
<li>
<p>Helper methods for temporary file/directory creation</p>
</li>
<li>
<p>Sample data generators for testing</p>
</li>
<li>
<p>Cleanup procedures for test artifacts</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="standard-rake-tasks">Standard Rake Tasks</h3>
<div class="paragraph">
<p>All Ruby gem projects with tests should implement these standard Rake tasks in their <code>Rakefile</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>bundle exec rake rspec</code></dt>
<dd>
<p>Run RSpec test suite using the standard pattern matcher.</p>
</dd>
<dt class="hdlist1"><code>bundle exec rake cli_test</code></dt>
<dd>
<p>Validate command-line interface functionality.
May test basic CLI loading, help output, version information.</p>
</dd>
<dt class="hdlist1"><code>bundle exec rake yaml_test</code></dt>
<dd>
<p>Validate YAML configuration files and data structures.
Should test all project YAML files for syntax correctness.</p>
</dd>
<dt class="hdlist1"><code>bundle exec rake pr_test</code></dt>
<dd>
<p>Comprehensive test suite for pre-commit and pull request validation.
Typically includes: RSpec tests, CLI tests, YAML validation.</p>
</dd>
<dt class="hdlist1"><code>bundle exec rake install_local</code></dt>
<dd>
<p>Build and install the project locally for testing.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Note that non-gem projects may have some or all of these tasks, as applicable.</p>
</div>
</div>
<div class="sect2">
<h3 id="test-categories">Test Categories</h3>
<div class="paragraph">
<p>Tests should be organized into these categories:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Unit Tests</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Module loading and initialization</p>
</li>
<li>
<p>Class structure validation</p>
</li>
<li>
<p>Basic functionality verification</p>
</li>
<li>
<p>Individual method testing</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Integration Tests</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Data processing workflows</p>
</li>
<li>
<p>Template rendering operations</p>
</li>
<li>
<p>Configuration loading scenarios</p>
</li>
<li>
<p>API client functionality (where applicable)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Validation Tests</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>File format compliance (YAML, JSON)</p>
</li>
<li>
<p>Configuration schema validation</p>
</li>
<li>
<p>Template syntax verification</p>
</li>
<li>
<p>Command-line option parsing</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="test-data-management">Test Data Management</h3>
<div class="paragraph">
<p>Projects should utilize:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Demo/Sample Data</dt>
<dd>
<p>Rich sample data in dedicated demo directories (e.g., <code>../projectname-demo/</code>).
Used for integration testing and examples.</p>
</dd>
<dt class="hdlist1">Generated Test Data</dt>
<dd>
<p>Programmatically generated test data using helper methods.
Ensures consistent, controlled test scenarios.</p>
</dd>
<dt class="hdlist1">Temporary Files</dt>
<dd>
<p>Automatic creation and cleanup of temporary files/directories.
Prevents test pollution and ensures isolated test environments.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="test-documentation">Test Documentation</h3>
<div class="paragraph">
<p>Each project&#8217;s <code>specs/tests/README.adoc</code> should:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Reference shared standards</dt>
<dd>
<p>Link to <a href="https://docopslab.org/docs/testing" class="bare">https://docopslab.org/docs/testing</a>.</p>
</dd>
<dt class="hdlist1">Document project-specific patterns</dt>
<dd>
<p>Cover unique testing approaches.</p>
</dd>
<dt class="hdlist1">Provide quick start instructions</dt>
<dd>
<p>Enable new contributors to run tests immediately.</p>
</dd>
<dt class="hdlist1">Explain integration with demo data</dt>
<dd>
<p>Show how sample data is used.</p>
</dd>
<dt class="hdlist1">List available test commands</dt>
<dd>
<p>Document all relevant Rake tasks and their purposes.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><!-- vale off --></p>
</div>
</div>
<div class="sect2">
<h3 id="test-ing-the-documentation">Test<em>ing</em> the Documentation</h3>
<div class="paragraph">
<p><!-- vale on --></p>
</div>
<div class="paragraph">
<p>Not only do tests need to be documented, but documentation needs to be systematically tested.</p>
</div>
<div class="paragraph">
<p>These tests are mainly performed via the <a href="/docs/lab-dev-setup/">docopslab-dev tool</a>.</p>
</div>
<div class="paragraph">
<p>DocOps Lab performs markup-syntax linting, prose linting, HTML linting, HTML link testing, and code-block testing.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax linting</dt>
<dd>
<p>Evaluates AsciiDoc and RDoc source syntax for proper style and formatting.
We use <a href="/docs/asciidoc-styles/#config-vale">Vale</a> for prose linting and custom <a href="/docs/ruby-styles/#rubocop-customization">RuboCop</a> for RDoc comment.</p>
</dd>
<dt class="hdlist1">HTML linting and link testing</dt>
<dd>
<p>Validates generated HTML documentation for proper structure, formatting, and link integrity.
See <a href="#config-htmlproofer">Docs Link Testing with HTMLProofer</a>.</p>
</dd>
<dt class="hdlist1">Code-block testing</dt>
<dd>
<p>Extracts and executes code blocks from documentation to ensure accuracy and functionality.
This is performed using the Sourcerer library, which is presently part of the ReleaseHx gem but will soon be released as a standalone gem.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="config-htmlproofer">Docs Link Testing with HTMLProofer</h4>
<div class="paragraph">
<p>HTML validation for Jekyll sites and documentation builds.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Base config</dt>
<dd>
<p><code>.config/.vendor/docopslab/htmlproofer.yml</code></p>
</dd>
<dt class="hdlist1">Project config</dt>
<dd>
<p><code>.config/htmlproofer.yml</code></p>
</dd>
<dt class="hdlist1">Sync command</dt>
<dd>
<p><code>bundle exec rake labdev:sync:configs</code></p>
</dd>
<dt class="hdlist1">Enable in manifest</dt>
<dd>
<p>Add <code>htmlproofer</code> tool with <code>enabled: true</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>HTMLProofer validates links, images, and HTML structure in built sites.
Only enabled for projects that generate HTML output (Jekyll sites, etc.).</p>
</div>
<div class="listingblock">
<div class="title">Base HTMLProofer Configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">---
# DocOps Lab HTML-Proofer Base Configuration
# This provides sensible defaults for DocOps Lab projects

# URL checking options
check_external_hash: false    # Skip checking external URL fragments (can be slow)
check_img_http: false         # Allow HTTP images for now
enforce_https: false          # Don't enforce HTTPS for all links

# URLs to ignore (patterns and strings)
ignore_urls:
  - /localhost/               # Skip local development URLs
  - /127\.0\.0\.1/           # Skip local IPs  
  - /example\.com/           # Skip example URLs
  - /foo\.bar/               # Skip placeholder URLs
  - /fonts.googleapis.com/   # Skip Google Fonts
  - /fonts.gstatic.com/      # Skip Google Fonts static

# Files to ignore (patterns)
ignore_files:
  - slides/                  # Skip slides directories

# Other options
check_favicon: false         # Don't require favicon
check_html: true            # Check HTML structure
check_opengraph: false      # Skip OpenGraph validation
disable_external: false     # Check external links (can be disabled for speed)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For full HTMLProofer configuration options, see <a href="https://github.com/gjtorikian/html-proofer">the official docs</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="continuous-integration-standards">Continuous Integration Standards</h2>
<div class="sectionbody">
<div class="paragraph">
<p>DocOps Lab projects follow consistent CI/CD patterns.
These broadly include pre-commit/pre-push testing, GitHub Actions integration, and release testing.</p>
</div>
<div class="sect2">
<h3 id="pre-push-testing">Pre-push Testing</h3>
<div class="literalblock prompt">
<div class="content">
<pre>bundle exec rake pr_test</pre>
</div>
</div>
<div class="paragraph">
<p>This test runs the complete local suite, including RSpec tests as well as any established CLI testing.</p>
</div>
</div>
<div class="sect2">
<h3 id="github-actions-integration">GitHub Actions Integration</h3>
<div class="paragraph">
<p>Projects should implement GitHub Actions workflows that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Run on pull requests</p>
</li>
<li>
<p>Execute the complete <code>pr_test</code> suite</p>
</li>
<li>
<p>Test across multiple Ruby versions (where applicable)</p>
</li>
<li>
<p>Validate documentation quality</p>
</li>
<li>
<p>Report test coverage</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-testing">Release Testing</h3>
<div class="paragraph">
<p>Before any merge to <code>main</code> and pre-release.</p>
</div>
<div class="literalblock prompt">
<div class="content">
<pre>bundle exec rake install_local
bundle exec rake pr_test</pre>
</div>
</div>
<div class="paragraph">
<p>Release testing also involves examining artifacts (packaged gems, Docker image, documentation) before it is published.
See <a href="#test-results-artifacts">below</a> for basics and <a href="/docs/release/">DocOps Lab Release Process (General)</a> for details.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="test-results-artifacts">Test Results and Artifacts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Test execution should generate:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>specs/tests/results/</code></dt>
<dd>
<p>Directory for test output, logs, and reports.
Automatically created during test runs.</p>
</dd>
<dt class="hdlist1"><code>.rspec_status</code></dt>
<dd>
<p>RSpec status persistence file for <code>--only-failures</code> and <code>--next-failure</code> flags.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Test results should include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pass/fail status for all test categories</p>
</li>
<li>
<p>Performance metrics (where applicable)</p>
</li>
<li>
<p>Coverage reports</p>
</li>
<li>
<p>Artifact validation logs</p>
</li>
</ul>
</div>
</div>
</div>
    </div>

    <footer class="document-footer">
      
      <div class="container">
      <section class="footer-page">
        
          <a href="https://github.com/DocOps/lab/edit/main/_docs/testing.adoc" class="edit-link">
          <i data-lucide="edit"></i>
          Edit this page
          </a>
        
      </section>
      </div>
      <!-- Footer Section Common Core -->
  <div class="container">
    <div class="footer-main">
      <div class="footer-content">
        <h3 class="footer-brand">
          <a href="/">DocOps Lab</a>
        </h3>
        <p class="footer-tagline">Powering documentation operations with automation, tooling, and best practices</p>
        
        <div class="footer-links">
          <!-- Reusable Navigation Component -->


<nav class="nav-component nav-footer">
  
  
  <ul class="nav-links">
    
    <li>
      <a href="/projects/" class="nav-link" title="Open source tools and libraries">
        
        <span class="nav-text">Projects</span>
      </a>
    </li>
    
    <li>
      <a href="/blog/" class="nav-link" title="Latest insights and tutorials">
        
        <span class="nav-text">Blog</span>
      </a>
    </li>
    
    <li>
      <a href="/docs/" class="nav-link" title="Documentation and guides">
        
        <span class="nav-text">Docs</span>
      </a>
    </li>
    
    <li>
      <a href="/docs/contributing/" class="nav-link" title="How to get involved">
        
        <span class="nav-text">Contributing</span>
      </a>
    </li>
    
    
    
    
    <li>
      <a href="https://github.com/DocOps" class="nav-link nav-external" 
         target="_blank"
         title="Source code and repositories">
        
        <span class="nav-text">GitHub</span>
      </a>
    </li>
    
    <li>
      <a href="https://www.writethedocs.org/slack/" class="nav-link nav-external" 
         target="_blank"
         title="Join our Write the Docs and find the #DocOps channel">
        
        <span class="nav-text">Community</span>
      </a>
    </li>
    
    
  </ul>
</nav>

        </div>
      </div>
      
      <div class="footer-legal">
        <p class="copyright">
          &copy; 2025 DocOps Lab
        </p>
        <p class="license">
          Content licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" class="footer-link">CC BY 4.0</a>
        </p>
        <p class="source">
          <a href="https://github.com/DocOps/lab" target="_blank" class="footer-link">
            <i data-lucide="github" class="footer-source-icon"></i>
            View Source
          </a>
        </p>
      </div>
    </div>
    
    <div class="footer-divider"></div>
    
    <div class="footer-bottom">
      <div class="footer-note">
        Built with <a href="https://jekyllrb.com" target="_blank" class="footer-link"><img src="/assets/images/jekyll-favicon.png" alt="Jekyll Favicon" class="footer-logo logo-jekyll">Jekyll</a> 
        and <a href="https://asciidoctor.org" target="_blank" class="footer-link"><img src="/assets/images/asciidoctor-logo.svg" alt="Asciidoctor Logo" class="footer-logo logo-asciidoctor">Asciidoctor</a>
      </div>
      <div class="footer-note">
         hosted on <a href="https://pages.github.com" target="_blank" class="footer-link">
          <img src="/assets/images/github-mark-white.png" alt="GitHub Logo" class="footer-logo logo-github">
         GitHub Pages</a>.
      </div>
    </div>
  </div>

    </footer>
    </article>
  </main>
</div>

  
  <!-- JavaScript -->
  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/micro-profiles.js"></script>
  
  
      <script src="/assets/js/scrollspy.js"></script>
  
  
  <!-- Highlight.js JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- Language-specific modules -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/asciidoc.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/twig.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/shell.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
  
  <!-- Initialize Highlight.js -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    // Configure highlight.js
      hljs.configure({
        languages: ['asciidoc', 'twig', 'shell', 'python']
      });
    
      // Process code blocks but preserve callouts during syntax highlighting
      document.querySelectorAll('pre code:not(.literalblock code), .listingblock pre code').forEach(function(block) {
          // Check if this block contains callouts
          const callouts = block.querySelectorAll('.conum');
          if (callouts.length > 0) {
            // Extract callouts before highlighting
            const calloutsData = [];
            callouts.forEach(function(callout, index) {
              const nextElement = callout.nextElementSibling;
              const fallbackText = nextElement && nextElement.tagName === 'B' ? nextElement : null;
              
              // Create a placeholder for the callout
              const placeholder = document.createTextNode(`__CALLOUT_${index}__`);
              
              // Store callout data
              calloutsData.push({
                element: callout.cloneNode(true),
                fallback: fallbackText ? fallbackText.cloneNode(true) : null,
                placeholder: placeholder
              });
              
              // Replace callout with placeholder
              callout.parentNode.replaceChild(placeholder, callout);
              
              // Remove fallback text if present
              if (fallbackText) {
                fallbackText.remove();
              }
            });
            
            // Run syntax highlighting
            hljs.highlightElement(block);

            // Mark container so CSS can avoid overriding HLJS backgrounds
            const pre = block.closest('pre');
            if (pre) {
              pre.classList.add('hljs-container');
            }
            
            // Restore callouts after highlighting
            calloutsData.forEach(function(calloutData, index) {
              const walker = document.createTreeWalker(
                block,
                NodeFilter.SHOW_TEXT,
                null,
                false
              );
              
              let textNode;
              while (textNode = walker.nextNode()) {
                if (textNode.textContent.includes(`__CALLOUT_${index}__`)) {
                  const parts = textNode.textContent.split(`__CALLOUT_${index}__`);
                  
                  // Create text node for part before callout
                  if (parts[0]) {
                    const beforeText = document.createTextNode(parts[0]);
                    textNode.parentNode.insertBefore(beforeText, textNode);
                  }
                  
                  // Insert the callout
                  textNode.parentNode.insertBefore(calloutData.element, textNode);
                  
                  // Create text node for part after callout if there is one
                  if (parts[1]) {
                    textNode.textContent = parts[1];
                  } else {
                    textNode.remove();
                  }
                  break;
                }
              }
            });
          } else {
            // No callouts, just highlight normally
            hljs.highlightElement(block);
            const pre = block.closest('pre');
            if (pre) {
              pre.classList.add('hljs-container');
            }
          }
      });
    
    });
  </script>
  
</body>
</html>
